\chapter{Testing}
    \paragraph{}
    Rigorous testing, especially in the context of kernel-mode modules and security solutions, is essential in order to provide a stable,
    usable and efficient product. Combining whitebox and blackbox techniques together with test driven developement paradigms throughout
    the development of a product is crucial in order to offer a high quality product.
    \section{Whitebox testing framework}
        \paragraph{}
        In order to use the Test Driven Development paradigm, a whitebox unittesting framework was required. The unittest project contains
        mock definitions of kernel functions (e.g. ExAllocatePoolWithTag), and unittests for each class. Mocking kernel functions helped in
        achieving high coverage of the kernel-code in a user-mode enviroment, thus saving development time. Moreover, these unittests can be
        easily configured to run at each solution build, making it a very reliable and easy to use continuous integration tool.
        \paragraph{}
        The other alternative was having another kernel-mode driver that would test the API exported by wslflt.sys. This is an unreliable
        and slow testing method because most bugs would cause a blue screen and can even corrupt the testing enviroment. Moreover, analysing
        kernel dumps in order to find bugs is a much slower process compared to. Also, building a continuous integration system around this
        testing framework is a lot more complicated because it involves virtual machines, automatiically applying OS images and re-applying them
        in case a BSOD occurs.
    \section{Blackbox testing}
        \paragraph{}
        Blackbox testing, both manual and automated, is the main method of attesting a product's value, usefuleness and correctness regarding
        the users' needs.
    \section{Performance testing}
        \paragraph{}        
    \section{WHQL Testing}
        \paragraph{}
        Windows Hardware Quality Lab\cite{whql} tests involve running various testcases regarding Disk I/O, code integrity checks, pipes I/O, transactional
        I/O and more.
        \paragraph{}
        In order to release a driver to the market, it needs to be digitally signed by microsoft, and the only way of receiving the signature, it
        must pass the WHQL test suite. In the case of wslflt.sys, that would be the Filter Driver Test Suite\cite{fdts}.